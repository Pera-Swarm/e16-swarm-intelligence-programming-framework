(this.webpackJsonprugfreecoins=this.webpackJsonprugfreecoins||[]).push([[0],{197:function(e,t){},226:function(e,t,n){},227:function(e,t,n){},228:function(e,t,n){},255:function(e,t){},257:function(e,t){},304:function(e,t){},306:function(e,t){},325:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),l=n(203),c=n.n(l),s=(n(226),n(227),n(5)),o=n(331),r=n(15),d=n(342),p=n(84),m=Object(p.b)({name:"firmware_file",initialState:{firmwareFile:null,dynamicCodeObject:null,formResult:null,algorithmName:null,generatedCppCode:null,generatedXmlCode:null},reducers:{change:function(e,t){e.firmwareFile=t.payload},setDynamicCode:function(e,t){e.dynamicCodeObject=t.payload},setFormResult:function(e,t){e.formResult=t.payload},setAlgorithmName:function(e,t){e.algorithmName=t.payload},setGeneratedCppCode:function(e,t){e.generatedCppCode=t.payload},setGeneratedXmlCode:function(e,t){e.generatedXmlCode=t.payload}}}),u=m.actions,b=u.change,j=u.setDynamicCode,O=u.setFormResult,h=u.setAlgorithmName,x=u.setGeneratedCppCode,E=u.setGeneratedXmlCode,_=m.reducer,f=n(344),N=n(345),v=(n(228),n.p+"static/media/PeraSwarm.9c098688.png"),g=n(4);var I=function(){var e=Object(r.l)(),t=Object(r.n)(),n=function(e,t,n,a,i){return{key:t,icon:n,children:a,label:e,theme:i}},a=[n("Home","/",Object(g.jsx)(f.a,{})),n("MQTT","/mqtt",Object(g.jsx)(N.a,{}))];return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"d-flex",style:{marginTop:"30px",marginLeft:"10px",marginBottom:"10px"},children:[Object(g.jsx)("div",{children:Object(g.jsx)("img",{alt:"pera-swarm-main-logo",src:v,style:{width:"40px",marginLeft:"20px"}})}),Object(g.jsx)("div",{className:"my-auto",style:{marginLeft:"10px"},children:Object(g.jsx)("h2",{className:"text-light",children:"Pera Swarm"})})]}),Object(g.jsx)(d.a,{mode:"inline",selectedKeys:e.pathname,theme:"dark",onClick:function(e){t(e.key)},style:{padding:"1px"},items:a,className:"menu-background"})]})},A=n(43),T=Object(p.b)({name:"margin",initialState:{margin:!1},reducers:{change:function(e){e.margin=!e.margin}}}),R=T.actions.change,S=T.reducer;var y=function(){var e=o.a.Sider,t=Object(A.c)((function(e){return e.margin})).margin,n=Object(A.b)();return Object(g.jsx)(e,{collapsed:t,onCollapse:function(){return n(R())},width:280,style:{overflow:"auto",height:"100vh",position:"fixed",left:0,top:0,bottom:0},children:Object(g.jsx)(I,{})})},L=n.p+"static/media/uop.a1dc49ee.png";var C=function(){var e=o.a.Footer;return Object(g.jsxs)(e,{className:"text-center",children:[Object(g.jsx)("span",{children:"Department of Comuputer Engineering - University of Peradeniya"}),Object(g.jsxs)("div",{className:"mt-2",children:[Object(g.jsx)("img",{src:v,alt:"pera-swarm-logo",style:{width:"30px",marginRight:"5px"}}),Object(g.jsx)("img",{src:L,alt:"uop-logo",style:{width:"30px",marginLeft:"5px"}})]})]})},D=n(18),F=n(33),k=n(8),B=n(337),M=n(341),P=n(217),V=n(339),w=n(216),U=n(214),G=Object(p.b)({name:"codegen_steps_slice",initialState:{step:0},reducers:{increase:function(e){e.step+=1},decrease:function(e){e.step-=1}}}),X=G.actions,W=X.increase,Y=X.decrease,H=G.reducer,q=n(352),Q=n(125),z=n(338),$=n(148),K=n(343),Z=n(332),J=n(333),ee=n(346),te=n(347),ne=n(348),ae=n(173);var ie=function(){var e=Q.a.Option,t=Object(a.useState)(!1),n=Object(s.a)(t,2),i=n[0],l=n[1],c=Object(a.useState)(!1),o=Object(s.a)(c,2),r=o[0],d=o[1],p=Object(A.c)((function(e){return e.firmware})),m=p.formResult,u=p.algorithmName,h=p.generatedCppCode,x=Object(A.b)(),E=Object(a.useState)("Copy"),_=Object(s.a)(E,2),f=_[0],N=_[1];return Object(a.useEffect)((function(){l(null===m||void 0===m?void 0:m.ENABLE_MOTORS),d(null===m||void 0===m?void 0:m.ENABLE_DISTANCE_SENSOR)}),[]),Object(g.jsxs)("div",{className:"mt-1 mb-5",children:[Object(g.jsx)("div",{className:"code-block mt-3",children:Object(g.jsx)(ae.a,{text:h,language:"cpp",theme:ae.b,customStyle:{height:"300px",overflow:"scroll"},showLineNumbers:!0,codeBlock:!0})}),Object(g.jsx)("div",{className:"mt-3",children:Object(g.jsxs)(z.a,{name:"dynamic_code_generation",onFinish:function(e){if(!e.ENABLE_MOTORS||e.DRIVE_SERVO||e.DRIVE_PWM)if(!e.ENABLE_DISTANCE_SENSOR||e.DISTANCE_GP2Y0A21YK0F||e.DISTANCE_VL53LX0)if(e.ENABLE_DISTANCE_SENSOR&&e.DISTANCE_GP2Y0A21YK0F&&e.DISTANCE_VL53LX0)P.b.error("You can't enable both GP2Y0A21YK0F and VL53LX0 sensors at once");else if(e.ENABLE_MQTT&&!e.ENABLE_WIFI)P.b.error("Need to enable WiFi to enable the MQTT");else{var t=[{name:"ALGORITHM",value:e.ALGORITHM,isEnabled:!!e.ALGORITHM},{name:"ENABLE_SERIAL_COMMUNICATION",value:"ENABLE_SERIAL_COMMUNICATION",isEnabled:!!e.ENABLE_SERIAL_COMMUNICATION,extra:["1"]},{name:"NEOPIXEL_INDICATIONS",value:"NEOPIXEL_INDICATIONS",isEnabled:!!e.NEOPIXEL_INDICATIONS},{name:"ENABLE_MEMORY",value:"ENABLE_MEMORY",isEnabled:!!e.ENABLE_MEMORY},{name:"ENABLE_MOTORS",value:"ENABLE_MOTORS",isEnabled:!!e.ENABLE_MOTORS,dependencies:[{name:"WHEEL_ENCODER",value:"WHEEL_ENCODER",isEnabled:!!e.WHEEL_ENCODER},{name:"DRIVE_PWM",value:"DRIVE_PWM",isEnabled:!!e.DRIVE_PWM},{name:"DRIVE_SERVO",value:"DRIVE_SERVO",isEnabled:!!e.DRIVE_SERVO}]},{name:"ENABLE_DISTANCE_SENSOR",value:"ENABLE_DISTANCE_SENSOR",isEnabled:!!e.ENABLE_DISTANCE_SENSOR,dependencies:[{name:"DISTANCE_GP2Y0A21YK0F",value:"DISTANCE_GP2Y0A21YK0F",isEnabled:!!e.DISTANCE_GP2Y0A21YK0F},{name:"DISTANCE_VL53LX0",value:"DISTANCE_VL53LX0",isEnabled:!!e.DISTANCE_VL53LX0}]},{name:"ENABLE_NEOPIXEL_RING",value:"ENABLE_NEOPIXEL_RING",isEnabled:!!e.ENABLE_NEOPIXEL_RING},{name:"ENABLE_COLOR_SENSOR",value:"ENABLE_COLOR_SENSOR",isEnabled:!!e.ENABLE_COLOR_SENSOR},{name:"ENABLE_COMPASS_SENSOR",value:"ENABLE_COMPASS_SENSOR",isEnabled:!!e.ENABLE_COMPASS_SENSOR},{name:"ENABLE_OTA_UPLOAD",value:"ENABLE_OTA_UPLOAD",isEnabled:!!e.ENABLE_OTA_UPLOAD},{name:"ENABLE_MQTT",value:"ENABLE_MQTT",isEnabled:!!e.ENABLE_MQTT},{name:"ENABLE_WIFI",value:"ENABLE_WIFI",isEnabled:!!e.ENABLE_WIFI}];x(j(t)),x(O(e)),x(W())}else P.b.error("Need to enable either GP2Y0A21YK0F or VL53LX0 sensor");else P.b.error("Need to be enable either DRIVE SERVO or DRIVE PWM")},initialValues:{FIRMWARE:null===m||void 0===m?void 0:m.FIRMWARE,ALGORITHM:u?"ALGO_".concat(u.toUpperCase()):"",ENABLE_SERIAL_COMMUNICATION:void 0===(null===m||void 0===m?void 0:m.ENABLE_SERIAL_COMMUNICATION)||(null===m||void 0===m?void 0:m.ENABLE_SERIAL_COMMUNICATION),NEOPIXEL_INDICATIONS:void 0===(null===m||void 0===m?void 0:m.NEOPIXEL_INDICATIONS)||(null===m||void 0===m?void 0:m.NEOPIXEL_INDICATIONS),ENABLE_MEMORY:void 0===(null===m||void 0===m?void 0:m.ENABLE_MEMORY)||(null===m||void 0===m?void 0:m.ENABLE_MEMORY),ENABLE_NEOPIXEL_RING:void 0===(null===m||void 0===m?void 0:m.ENABLE_NEOPIXEL_RING)||(null===m||void 0===m?void 0:m.ENABLE_NEOPIXEL_RING),ENABLE_COLOR_SENSOR:void 0===(null===m||void 0===m?void 0:m.ENABLE_COLOR_SENSOR)||(null===m||void 0===m?void 0:m.ENABLE_COLOR_SENSOR),ENABLE_COMPASS_SENSOR:void 0===(null===m||void 0===m?void 0:m.ENABLE_COMPASS_SENSOR)||(null===m||void 0===m?void 0:m.ENABLE_COMPASS_SENSOR),ENABLE_OTA_UPLOAD:void 0===(null===m||void 0===m?void 0:m.ENABLE_OTA_UPLOAD)||(null===m||void 0===m?void 0:m.ENABLE_OTA_UPLOAD),ENABLE_MQTT:void 0===(null===m||void 0===m?void 0:m.ENABLE_MQTT)||(null===m||void 0===m?void 0:m.ENABLE_MQTT),ENABLE_WIFI:void 0===(null===m||void 0===m?void 0:m.ENABLE_WIFI)||(null===m||void 0===m?void 0:m.ENABLE_WIFI),ENABLE_MOTORS:null===m||void 0===m?void 0:m.ENABLE_MOTORS,DRIVE_PWM:null===m||void 0===m?void 0:m.DRIVE_PWM,WHEEL_ENCODER:null===m||void 0===m?void 0:m.WHEEL_ENCODER,DRIVE_SERVO:null===m||void 0===m?void 0:m.DRIVE_SERVO,ENABLE_DISTANCE_SENSOR:null===m||void 0===m?void 0:m.ENABLE_DISTANCE_SENSOR,DISTANCE_GP2Y0A21YK0F:null===m||void 0===m?void 0:m.DISTANCE_GP2Y0A21YK0F,DISTANCE_VL53LX0:null===m||void 0===m?void 0:m.DISTANCE_VL53LX0},children:[Object(g.jsxs)(Z.a,{children:[Object(g.jsxs)(J.a,{xxl:"6",xl:"6",lg:"6",md:"6",sm:"12",xs:"12",children:[Object(g.jsx)("h6",{children:"FIRMWARE FILE"}),Object(g.jsx)(z.a.Item,{name:"FIRMWARE",rules:[{required:!0,message:"Please select a firmware file!"}],children:Object(g.jsx)(Q.a,{className:"col-12",showSearch:!0,placeholder:"Search to select firmware file",optionFilterProp:"children",onChange:function(e){console.log("selected ".concat(e)),x(b(e))},onSearch:function(e){console.log("search:",e)},size:"large",filterOption:function(e,t){var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},options:[{value:"esp_robot_firmware",label:"ESP-Firmware-01"}]})})]}),Object(g.jsxs)(J.a,{xxl:"6",xl:"6",lg:"6",md:"6",sm:"12",xs:"12",children:[Object(g.jsxs)("div",{className:"d-flex",children:[Object(g.jsx)("h6",{children:"ALGORITHM"}),Object(g.jsx)("div",{style:{marginLeft:"5px",marginTop:"-4px"},children:Object(g.jsx)($.a,{title:f,children:Object(g.jsx)(ee.a,{onClick:function(){return N("Copied"),navigator.clipboard.writeText(h),void setTimeout((function(){N("Copy")}),1e3)}})})})]}),Object(g.jsx)(z.a.Item,{name:"ALGORITHM",rules:[{required:!0,message:"Please select an algorithm!"}],children:Object(g.jsx)(Q.a,{placeholder:"Select the algorithm",size:"large",value:"ALGO_".concat(u.toUpperCase()),defaultValue:"ALGO_".concat(u.toUpperCase()),children:Object(g.jsx)(e,{value:"ALGO_".concat(u.toUpperCase),children:"ALGO_".concat(u.toUpperCase())})})})]})]}),Object(g.jsxs)(Z.a,{children:[Object(g.jsx)(J.a,{xxl:"3",xl:"3",lg:"3",md:"4",sm:"6",xs:"6",className:"my-auto",children:Object(g.jsx)(z.a.Item,{name:"ENABLE_SERIAL_COMMUNICATION",valuePropName:"checked",noStyle:!0,children:Object(g.jsx)(K.a,{children:"ENABLE SERIAL COMMUNICATION"})})}),Object(g.jsx)(J.a,{xxl:"3",xl:"3",lg:"3",md:"4",sm:"6",xs:"6",className:"my-auto",children:Object(g.jsx)(z.a.Item,{name:"NEOPIXEL_INDICATIONS",valuePropName:"checked",noStyle:!0,children:Object(g.jsx)(K.a,{children:"NEOPIXEL INDICATIONS"})})}),Object(g.jsx)(J.a,{xxl:"3",xl:"3",lg:"3",md:"4",sm:"6",xs:"6",className:"my-auto",children:Object(g.jsx)(z.a.Item,{name:"ENABLE_MEMORY",valuePropName:"checked",noStyle:!0,children:Object(g.jsx)(K.a,{children:"ENABLE MEMORY"})})}),Object(g.jsx)(J.a,{xxl:"3",xl:"3",lg:"3",md:"4",sm:"6",xs:"6",className:"my-auto",children:Object(g.jsx)(z.a.Item,{name:"ENABLE_NEOPIXEL_RING",valuePropName:"checked",noStyle:!0,children:Object(g.jsx)(K.a,{children:"ENABLE NEOPIXEL RING"})})}),Object(g.jsx)(J.a,{xxl:"3",xl:"3",lg:"3",md:"4",sm:"6",xs:"6",className:"my-auto",children:Object(g.jsx)(z.a.Item,{name:"ENABLE_COLOR_SENSOR",valuePropName:"checked",noStyle:!0,children:Object(g.jsx)(K.a,{children:"ENABLE COLOR SENSOR"})})}),Object(g.jsx)(J.a,{xxl:"3",xl:"3",lg:"3",md:"4",sm:"6",xs:"6",className:"my-auto",children:Object(g.jsx)(z.a.Item,{name:"ENABLE_COMPASS_SENSOR",valuePropName:"checked",noStyle:!0,children:Object(g.jsx)(K.a,{children:"ENABLE COMPASS SENSOR"})})}),Object(g.jsx)(J.a,{xxl:"3",xl:"3",lg:"3",md:"4",sm:"6",xs:"6",className:"my-auto",children:Object(g.jsx)(z.a.Item,{name:"ENABLE_OTA_UPLOAD",valuePropName:"checked",noStyle:!0,children:Object(g.jsx)(K.a,{children:"ENABLE OTA UPLOAD"})})}),Object(g.jsx)(J.a,{xxl:"3",xl:"3",lg:"3",md:"4",sm:"6",xs:"6",className:"my-auto",children:Object(g.jsx)(z.a.Item,{name:"ENABLE_MQTT",valuePropName:"checked",noStyle:!0,children:Object(g.jsx)(K.a,{children:"ENABLE MQTT"})})}),Object(g.jsx)(J.a,{xxl:"3",xl:"3",lg:"3",md:"4",sm:"6",xs:"6",className:"my-auto",children:Object(g.jsx)(z.a.Item,{name:"ENABLE_WIFI",valuePropName:"checked",noStyle:!0,children:Object(g.jsx)(K.a,{children:"ENABLE WIFI"})})})]}),Object(g.jsx)(Z.a,{className:"mt-3",children:Object(g.jsx)(J.a,{xxl:"3",xl:"3",lg:"3",md:"4",sm:"6",xs:"6",className:"my-auto",children:Object(g.jsx)(z.a.Item,{name:"ENABLE_MOTORS",valuePropName:"checked",noStyle:!0,children:Object(g.jsx)(K.a,{onChange:function(e){return l(e.target.checked)},children:Object(g.jsx)("h6",{children:"MOTORS"})})})})}),Object(g.jsxs)(Z.a,{className:"mt-2",children:[i&&Object(g.jsx)(J.a,{xxl:"3",xl:"3",lg:"3",md:"4",sm:"6",xs:"6",className:"my-auto",children:Object(g.jsx)(z.a.Item,{name:"DRIVE_PWM",valuePropName:"checked",noStyle:!0,children:Object(g.jsx)(K.a,{children:"DRIVE PWM"})})}),i&&Object(g.jsx)(J.a,{xxl:"3",xl:"3",lg:"3",md:"4",sm:"6",xs:"6",className:"my-auto",children:Object(g.jsx)(z.a.Item,{name:"DRIVE_SERVO",valuePropName:"checked",noStyle:!0,children:Object(g.jsx)(K.a,{children:"DRIVE SERVO"})})}),i&&Object(g.jsx)(J.a,{xxl:"3",xl:"3",lg:"3",md:"4",sm:"6",xs:"6",className:"my-auto",children:Object(g.jsx)(z.a.Item,{name:"WHEEL_ENCODER",valuePropName:"checked",noStyle:!0,children:Object(g.jsx)(K.a,{children:"WHEEL ENCODER"})})})]}),Object(g.jsxs)(Z.a,{className:"mt-3",children:[Object(g.jsx)(J.a,{xxl:"3",xl:"3",lg:"3",md:"4",sm:"6",xs:"6",className:"my-auto",children:Object(g.jsx)(z.a.Item,{name:"ENABLE_DISTANCE_SENSOR",valuePropName:"checked",noStyle:!0,children:Object(g.jsx)(K.a,{onChange:function(e){return d(e.target.checked)},children:Object(g.jsx)("h6",{children:"DISTANCE SENSOR"})})})}),Object(g.jsxs)(Z.a,{className:"mt-2",children:[r&&Object(g.jsx)(J.a,{xxl:"3",xl:"3",lg:"3",md:"4",sm:"6",xs:"6",className:"my-auto",children:Object(g.jsx)(z.a.Item,{name:"DISTANCE_GP2Y0A21YK0F",valuePropName:"checked",noStyle:!0,children:Object(g.jsx)(K.a,{children:"DISTANCE GP2Y0A21YK0F"})})}),r&&Object(g.jsx)(J.a,{xxl:"3",xl:"3",lg:"3",md:"4",sm:"6",xs:"6",className:"my-auto",children:Object(g.jsx)(z.a.Item,{name:"DISTANCE_VL53LX0",valuePropName:"checked",noStyle:!0,children:Object(g.jsx)(K.a,{children:"DISTANCE VL53LX0"})})})]})]}),Object(g.jsx)(Z.a,{className:"text-center mt-3",children:Object(g.jsx)(z.a.Item,{children:Object(g.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(g.jsx)(w.a,{style:{marginRight:"5px"},onClick:function(){return x(Y())},children:Object(g.jsxs)("div",{className:"d-flex",children:[Object(g.jsx)("div",{style:{marginTop:"-3px",marginRight:"3px"},children:Object(g.jsx)(te.a,{})}),Object(g.jsx)("div",{children:"Back"})]})}),Object(g.jsx)(w.a,{type:"primary",htmlType:"submit",children:Object(g.jsxs)("div",{className:"d-flex",children:[Object(g.jsx)("div",{children:"Next"}),Object(g.jsx)("div",{style:{marginTop:"-3px",marginRight:"3px"},children:Object(g.jsx)(ne.a,{})})]})})]})})})]})})]})},le=n(334),ce=n(335),se=n(336),oe=function(e){var t=e.connect,n=e.disconnect,a=e.connectBtn,i=z.a.useForm(),l=Object(s.a)(i,1)[0],c={host:"broker.emqx.io",clientId:"swarm_client + ".concat(Math.random().toString(16).substr(2,8)),port:8083},o=Object(g.jsx)(z.a,{layout:"vertical",name:"basic",form:l,initialValues:c,onFinish:function(e){var n=e.host,a=e.clientId,i=e.port,l=e.username,c=e.password,s="ws://".concat(n,":").concat(i,"/mqtt"),o={keepalive:30,protocolId:"MQTT",protocolVersion:4,clean:!0,reconnectPeriod:1e3,connectTimeout:3e4,will:{topic:"WillMsg",payload:"Connection Closed abnormally..!",qos:0,retain:!1},rejectUnauthorized:!1};o.clientId=a,o.username=l,o.password=c,t(s,o)},children:Object(g.jsxs)(le.a,{gutter:20,children:[Object(g.jsx)(ce.a,{span:8,children:Object(g.jsx)(z.a.Item,{label:"Host",name:"host",children:Object(g.jsx)(V.a,{})})}),Object(g.jsx)(ce.a,{span:8,children:Object(g.jsx)(z.a.Item,{label:"Port",name:"port",children:Object(g.jsx)(V.a,{})})}),Object(g.jsx)(ce.a,{span:8,children:Object(g.jsx)(z.a.Item,{label:"Client ID",name:"clientId",children:Object(g.jsx)(V.a,{})})}),Object(g.jsx)(ce.a,{span:8,children:Object(g.jsx)(z.a.Item,{label:"Username",name:"username",children:Object(g.jsx)(V.a,{})})}),Object(g.jsx)(ce.a,{span:8,children:Object(g.jsx)(z.a.Item,{label:"Password",name:"password",children:Object(g.jsx)(V.a,{})})})]})});return Object(g.jsx)(se.a,{title:"Connection",actions:[Object(g.jsx)(w.a,{type:"primary",onClick:function(){l.submit()},children:a}),Object(g.jsx)(w.a,{danger:!0,onClick:function(){n()},children:"Disconnect"})],children:o})},re=function(e){var t=e.publish,n=z.a.useForm(),i=Object(s.a)(n,1)[0],l=Object(a.useContext)(je),c=Object(g.jsx)(z.a,{layout:"vertical",name:"basic",form:i,initialValues:{topic:"swarm-topic/sensor-data",qos:0,payload:'{"sensor-data" : "sample-sensor-data"}'},onFinish:function(e){t(e)},children:Object(g.jsxs)(le.a,{gutter:20,children:[Object(g.jsx)(ce.a,{span:12,children:Object(g.jsx)(z.a.Item,{label:"Topic",name:"topic",children:Object(g.jsx)(V.a,{})})}),Object(g.jsx)(ce.a,{span:12,children:Object(g.jsx)(z.a.Item,{label:"QoS",name:"qos",children:Object(g.jsx)(Q.a,{options:l})})}),Object(g.jsx)(ce.a,{span:24,children:Object(g.jsx)(z.a.Item,{label:"Payload",name:"payload",children:Object(g.jsx)(V.a.TextArea,{})})}),Object(g.jsx)(ce.a,{span:8,offset:16,style:{textAlign:"right"},children:Object(g.jsx)(z.a.Item,{children:Object(g.jsx)(w.a,{type:"primary",htmlType:"submit",children:"Publish"})})})]})});return Object(g.jsx)(se.a,{title:"Publisher",children:c})},de=function(e){var t=e.sub,n=e.unSub,i=e.showUnsub,l=z.a.useForm(),c=Object(s.a)(l,1)[0],o=Object(a.useContext)(je),r=Object(g.jsx)(z.a,{layout:"vertical",name:"basic",form:c,initialValues:{topic:"swarm-topic/sensor-data",qos:0},onFinish:function(e){t(e)},children:Object(g.jsxs)(le.a,{gutter:20,children:[Object(g.jsx)(ce.a,{span:12,children:Object(g.jsx)(z.a.Item,{label:"Topic",name:"topic",children:Object(g.jsx)(V.a,{})})}),Object(g.jsx)(ce.a,{span:12,children:Object(g.jsx)(z.a.Item,{label:"QoS",name:"qos",children:Object(g.jsx)(Q.a,{options:o})})}),Object(g.jsx)(ce.a,{span:8,offset:16,style:{textAlign:"right"},children:Object(g.jsxs)(z.a.Item,{children:[Object(g.jsx)(w.a,{type:"primary",htmlType:"submit",children:"Subscribe"}),i?Object(g.jsx)(w.a,{type:"danger",style:{marginLeft:"10px"},onClick:function(){var e=c.getFieldsValue();n(e)},children:"Unsubscribe"}):null]})})]})});return Object(g.jsx)(se.a,{title:"Subscriber",children:r})},pe=n(340),me=function(e){var t=e.payload,n=Object(a.useState)([]),i=Object(s.a)(n,2),l=i[0],c=i[1];Object(a.useEffect)((function(){t.topic&&c((function(e){return[].concat(Object(k.a)(e),[t])}))}),[t]);return Object(g.jsx)(se.a,{title:"Receiver",children:Object(g.jsx)(pe.b,{size:"small",bordered:!0,dataSource:l,renderItem:function(e){return Object(g.jsx)(pe.b.Item,{children:Object(g.jsx)(pe.b.Item.Meta,{title:e.topic,description:e.message})})}})})},ue=n(213),be=n.n(ue),je=Object(a.createContext)([]),Oe=[{label:"0",value:0},{label:"1",value:1},{label:"2",value:2}],he=function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),n=t[0],i=t[1],l=Object(a.useState)(!1),c=Object(s.a)(l,2),o=c[0],r=c[1],d=Object(a.useState)({}),p=Object(s.a)(d,2),m=p[0],u=p[1],b=Object(a.useState)("Connect"),j=Object(s.a)(b,2),O=j[0],h=j[1];Object(a.useEffect)((function(){n&&(n.on("connect",(function(){h("Connected")})),n.on("error",(function(e){console.error("Connection error: ",e),n.end()})),n.on("reconnect",(function(){h("Reconnecting")})),n.on("message",(function(e,t){var n={topic:e,message:t.toString()};u(n)})))}),[n]);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(oe,{connect:function(e,t){h("Connecting"),i(be.a.connect(e,t))},disconnect:function(){n&&n.end((function(){h("Connect")}))},connectBtn:O}),Object(g.jsxs)(je.Provider,{value:Oe,children:[Object(g.jsx)(de,{sub:function(e){if(n){var t=e.topic,a=e.qos;n.subscribe(t,{qos:a},(function(e){e?console.log("Subscribe to topics error",e):r(!0)}))}},unSub:function(e){if(n){var t=e.topic;n.unsubscribe(t,(function(e){e?console.log("Unsubscribe error",e):r(!1)}))}},showUnsub:o}),Object(g.jsx)(re,{publish:function(e){if(n){var t=e.topic,a=e.qos,i=e.payload;n.publish(t,i,{qos:a},(function(e){e&&console.log("Publish error: ",e)}))}}})]}),Object(g.jsx)(me,{payload:m})]})},xe=n(11),Ee=n(3),_e=n(10),fe=n.n(_e),Ne=n(171),ve=n.n(Ne);_e.cpp=new _e.Generator("cpp"),_e.cpp.C_VARIABLE_TYPES=[["float","float"],["int","int"],["unsigned int","unsigned int"],["short","short"],["unsigned short","unsigned short"],["bool","bool"]],_e.cpp.SWARM_ALGO_SIGNATURES=["algorithm_setup","algorithm_start","algorithm_execute","algorithm_interrupt","algorithm_reset","algorithm_stop"],_e.cpp.C_GLOBAL_VARS=[],_e.cpp.addReservedWords(",alignas,alignof,and,and_eq,asm,auto,bitand,bitor,bool,break,case,catch,char,char16_t,char32_t,class,compl,const,constexpr,const_cast,continue,decltype,default,delete,do,double,dynamic_cast,else,enum,explicit,export,extern,false,float,for,friend,goto,if,inline,int,long,long double,long long,mutable,namespace,new,noexcept,not,not_eq,nullptr,operator,or,or_eq,private,protected,public,register,reinterpret_cast,return,short,signed,sizeof,static,static_assert,static_cast,struct,switch,template,this,thread_local,throw,true,try,typedef,typeid,typename,union,unsigned,using,virtual,void,volatile,wchar_t,while,xor,xor_eq,posix,game,api,PI,PI2,PI3,PI4,DEG2RAD,RAD2DEG,ZRMS,ZR2D,ZR3D,ALLIANCE"),_e.cpp.INFINITE_LOOP_TRAP=null,_e.cpp.ORDER_ATOMIC=0,_e.cpp.ORDER_MEMBER=2,_e.cpp.ORDER_FUNCTION_CALL=2,_e.cpp.ORDER_INCREMENT=3,_e.cpp.ORDER_DECREMENT=3,_e.cpp.ORDER_LOGICAL_NOT=3,_e.cpp.ORDER_BITWISE_NOT=3,_e.cpp.ORDER_UNARY_PLUS=3,_e.cpp.ORDER_UNARY_NEGATION=3,_e.cpp.ORDER_MULTIPLICATION=5,_e.cpp.ORDER_DIVISION=5,_e.cpp.ORDER_MODULUS=5,_e.cpp.ORDER_ADDITION=6,_e.cpp.ORDER_SUBTRACTION=6,_e.cpp.ORDER_BITWISE_SHIFT=7,_e.cpp.ORDER_RELATIONAL=8,_e.cpp.ORDER_EQUALITY=9,_e.cpp.ORDER_BITWISE_AND=10,_e.cpp.ORDER_BITWISE_XOR=11,_e.cpp.ORDER_BITWISE_OR=12,_e.cpp.ORDER_LOGICAL_AND=13,_e.cpp.ORDER_LOGICAL_OR=14,_e.cpp.ORDER_CONDITIONAL=15,_e.cpp.ORDER_ASSIGNMENT=15,_e.cpp.ORDER_COMMA=17,_e.cpp.ORDER_NONE=99,_e.cpp.isInitialized=!1,_e.cpp.init=function(e){if(Object.getPrototypeOf(this).init.call(this),this.nameDB_?this.nameDB_.reset():this.nameDB_=new _e.Names(this.RESERVED_WORDS_),_e.cpp.nameDB_.setVariableMap(e.getVariableMap()),_e.cpp.nameDB_.populateVariables(e),_e.cpp.nameDB_.populateProcedures(e),_e.cpp.definitions_=Object.create(null),_e.cpp.algorithm_="Algorithm_"+Date.now(),_e.cpp.times_=Object.create(null),_e.cpp.functionNames_=Object.create(null),_e.Variables){_e.cpp.variableDB_?_e.cpp.variableDB_.reset():_e.cpp.variableDB_=new _e.Names(_e.cpp.RESERVED_WORDS_);for(var t=[],n=_e.Variables.allUsedVarModels(e),a=0;a<n.length;a++)"global"==n[a][3]&&(t[a]=n[a][0]+n[a][1]+" "+_e.cpp.variableDB_.getName(n[a][2],_e.Variables.NAME_TYPE)+";");_e.cpp.definitions_.variables=t.join("\n")}_e.cpp.isInitialized=!0,console.log(e.getVariableMap())},_e.cpp.finish=function(e){e&&(e=this.prefixLines(e,_e.cpp.INDENT)),e="\n"+e;var t=[],n=[],a=[],i=[];for(var l in _e.cpp.definitions_){var c=_e.cpp.definitions_[l];l.match("include")?t.push(c):l.match("Func_declare")?n.push(c):l.match("define")?a.push(c):i.push(c)}var s=t.join("\n")+"\n\n"+n.join("\n")+"\n\n"+a.join("\n"),o=i.join("\n"),r="#ifdef ALGO_".concat(_e.cpp.algorithm_.toUpperCase()),d="\n    ".concat(r,"\n\n    ").concat(e,"\n\n    ").concat(o.replace(/\n\n+/g,"\n\n"),"\n    \n\n    ").concat("#endif","\n  ");return this.isInitialized=!1,this.nameDB_.reset(),s.replace(/\n\n+/g,"\n\n").replace(/\n*$/,"\n")+d},_e.cpp.finishFull=function(e){console.log(e);var t=[];for(var n in _e.cpp.definitions_)t.push(_e.cpp.definitions_[n]);return-1===(e=t.join("\n\n")+"\n\nvoid setPos(float x, float y, float z) {\n\tfloat pos[3];\n\tpos[0] = x; pos[1] = y; pos[2] = z;\n\tapi.setPositionTarget(pos);\n}\n\n"+e).indexOf("//Begin page init\nvoid init() {\n")&&(e="void init() {}\n"+e),e},_e.cpp.scrubNakedValue=function(e){return e+";\n"},_e.cpp.quote_=function(e){return e=(e=e.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/"/g,'\\"').replace(/\?/g,"\\?")).replace(/\\\\n/g,"\\n")},_e.cpp.scrub_=function(e,t){if(null===t)return"";var n="";if(!e.outputConnection||!e.outputConnection.targetConnection){(i=e.getCommentText())&&(n+=this.prefixLines(i,"// ")+"\n");for(var a=0;a<e.inputList.length;a++)if(e.inputList[a].type==_e.INPUT_VALUE){var i,l=e.inputList[a].connection.targetBlock();if(l)(i=this.allNestedComments(l))&&(n+=this.prefixLines(i,"// "))}}var c=e.nextConnection&&e.nextConnection.targetBlock();return n+t+this.blockToCode(c)},_e.cpp.constructor=function(e){var t=_e.cpp.statementToCode(e,"PARAMS"),n=t.split("$$");if(n.length>2){for(var a=0;a<n.length-3;a++)n[a]=n[a]+", ";t=n.join()}else t=n.join();return"$$CONSTRUCTOR_NAME$$("+(t=t.substring(2,t.lastIndexOf(",")))+") {}\n"},_e.cpp["class-container"]=function(e){var t=e.getFieldValue("class_name");return("#incluse mbed.h \n\nclass ahmed "+t+" {\n"+_e.cpp.statementToCode(e,"class_body")+"}").replace("$$CONSTRUCTOR_NAME$$",t)},_e.cpp["child-class-container"]=function(e){var t=e.getFieldValue("class_name"),n=_e.cpp.statementToCode(e,"class_body");return("\n\nclass "+t+": "+this.parentBlock_.getFieldValue("class_name")+" {\n"+n+"}").replace("$$CONSTRUCTOR_NAME$$",t)},_e.cpp["variable-container"]=function(e){return e.getFieldValue("access-modifier")+":\n"+_e.cpp.statementToCode(e,"variables")},_e.cpp["method-container"]=function(e){return e.getFieldValue("access-modifier")+":\n"+_e.cpp.statementToCode(e,"inputs")},_e.cpp.method=function(e){var t=e.getFieldValue("RETURN_TYPE"),n=e.getFieldValue("METHOD_NAME"),a=_e.cpp.statementToCode(e,"NAME"),i=a.split("$$");if(i.length>2){for(var l=0;l<i.length-3;l++)i[l]=i[l]+", ";a=i.join()}else a=i.join();var c="";return c+=t,c+=" "+n,c+="("+(a=a.substring(2,a.lastIndexOf(",")))+") {",c+=t&&"void"!==t?"\n\treturn -1;\n":"",c+="}\n"};_e.cpp.variable=function(e){return"\t"+e.getFieldValue("variableType")+" "+e.getFieldValue("varName")+"= 0;\n"},_e.cpp.parameter=function(e){var t=e.getFieldValue("parameter-name");return e.getFieldValue("NAME")+" "+t+"$$"},_e.cpp["class-instance-variable"]=function(e){return e.getFieldValue("class_name")+" "+e.getFieldValue("variable_name")+";\n"},_e.cpp["object-pointer"]=function(e){var t=e.getFieldValue("pointer_name");return e.getFieldValue("class_name")+" *"+t+";\n"},_e.cpp.validateWorkspace=function(e){console.log(e)};var ge=_e.cpp;ge.controls_if=function(e){var t,n,a=0,i="";ge.valueToCode(e,"NAME",ge.ORDER_ATOMIC);ge.STATEMENT_PREFIX&&(i+=ge.injectId(ge.STATEMENT_PREFIX,e));do{n=ge.valueToCode(e,"IF"+a,ge.ORDER_NONE)||"false",t=ge.statementToCode(e,"DO"+a),ge.STATEMENT_SUFFIX&&(t=ge.prefixLines(ge.injectId(ge.STATEMENT_SUFFIX,e),ge.INDENT)+t),i+=(a>0?"else ":"")+"if ("+n+") {\n"+t+"\n}",a++}while(e.getInput("IF"+a));return(e.getInput("ELSE")||ge.STATEMENT_SUFFIX)&&(t=ge.statementToCode(e,"ELSE"),ge.STATEMENT_SUFFIX&&(t=ge.prefixLines(ge.injectId(ge.STATEMENT_SUFFIX,e),ge.INDENT)+t),i+=" else {\n"+t+"\n}"),i+"\n"},ge.logic_compare=function(e){var t={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[e.getFieldValue("OP")],n="=="===t||"!="===t?ge.ORDER_EQUALITY:ge.ORDER_RELATIONAL;return[(ge.valueToCode(e,"A",n)||"0")+" "+t+" "+(ge.valueToCode(e,"B",n)||"0"),n]},ge.math_number=function(e){var t=Number(e.getFieldValue("NUM"));return[t,t>=0?ge.ORDER_ATOMIC:ge.ORDER_UNARY_NEGATION]},ge.variables_get=function(e){return[ge.nameDB_.getName(e.getFieldValue("VAR"),_e.Names.NameType.VARIABLE),ge.ORDER_ATOMIC]},ge.variables_set=function(e){var t=ge.valueToCode(e,"VALUE",ge.ORDER_ASSIGNMENT)||"0";return ge.nameDB_.getName(e.getFieldValue("VAR"),_e.Names.NameType.VARIABLE)+" = "+t+";\n"};var Ie=n(22),Ae=n.n(Ie);ge.procedures_defreturn=function(e){var t=ge.nameDB_.getName(e.getFieldValue("NAME"),_e.Names.NameType.PROCEDURE),n="";ge.STATEMENT_PREFIX&&(n+=ge.injectId(ge.STATEMENT_PREFIX,e)),ge.STATEMENT_SUFFIX&&(n+=ge.injectId(ge.STATEMENT_SUFFIX,e)),n&&(n=ge.prefixLines(n,ge.INDENT));var a="";ge.INFINITE_LOOP_TRAP&&(a=ge.prefixLines(ge.injectId(ge.INFINITE_LOOP_TRAP,e),ge.INDENT));var i=ge.statementToCode(e,"STACK"),l=ge.valueToCode(e,"RETURN",ge.ORDER_NONE)||"",c="";i&&l&&(c=n),l&&(l=ge.INDENT+"return "+l+";\n");for(var s=l?"dynamic":"void",o=[],r=e.getVars(),d=0;d<r.length;d++)o[d]=ge.nameDB_.getName(r[d],_e.Names.NameType.VARIABLE);var p=s+" "+t+"("+o.join(", ")+") {\n"+n+a+i+c+l+"}";return p=ge.scrub_(e,p),ge.definitions_["%"+t]=p,null},ge.procedures_defnoreturn=ge.procedures_defreturn,ge.procedures_callreturn=function(e){for(var t=ge.nameDB_.getName(e.getFieldValue("NAME"),_e.Names.NameType.PROCEDURE),n=[],a=e.getVars(),i=0;i<a.length;i++)n[i]=ge.valueToCode(e,"ARG"+i,ge.ORDER_NONE)||"null";return[t+"("+n.join(", ")+")",ge.ORDER_UNARY_POSTFIX]},ge.procedures_callnoreturn=function(e){return ge.procedures_callreturn(e)[0]+";\n"},ge.algorithm_interrupt=function(e){var t=ge.nameDB_.getName(e.getFieldValue("interrupt_variable"),Ae.a.Variables.NAME_TYPE),n=ge.nameDB_.getName(e.getFieldValue("msg_variable"),Ae.a.Variables.NAME_TYPE),a=ge.statementToCode(e,"interrupt_body");return"void algorithm_interrupt(robot_interrupt_t ".concat(t,", char* ").concat(n,") {\n    \t").concat(a,"\n  }")};var Te=_e.Names.NameType;Ae.a.Blocks.delay={init:function(){this.appendDummyInput().appendField("Delay").appendField(new Ae.a.FieldNumber(0,0),"delay_s"),this.setInputsInline(!1),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(120),this.setTooltip("Waits for number of seconds"),this.setHelpUrl("")}},Ae.a.Blocks.serial_print={init:function(){this.appendDummyInput().appendField("Serial Print").appendField(new Ae.a.FieldTextInput("msg"),"msg"),this.setInputsInline(!1),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(20),this.setTooltip("Serial print"),this.setHelpUrl("")}},Ae.a.Blocks.drive_motors={init:function(){this.appendDummyInput().appendField("Drive Motor"),this.appendDummyInput().appendField("left-motor-speed").appendField(new Ae.a.FieldNumber(0,0,255),"left-motor-speed"),this.appendDummyInput().appendField("right-motor-speed").appendField(new Ae.a.FieldNumber(0),"right-motor-speed"),this.setInputsInline(!1),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(230),this.setTooltip("Activate motor"),this.setHelpUrl("")}},Ae.a.Blocks.algorithm={init:function(){this.appendDummyInput().appendField(new Ae.a.FieldTextInput("Algorithm"),"algorithm_name"),this.appendDummyInput().appendField(new Ae.a.FieldVariable("ROBOT_STATE"),"robot_state_label").appendField(new Ae.a.FieldNumber(0,0,10),"robot_state_value"),this.appendStatementInput("algo_body").setCheck(null).appendField("algorithm_loop"),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},ge.serial_print=function(e){var t=e.getFieldValue("msg");return'Serial.println("'.concat(t,'");\n')},ge.delay=function(e){var t=e.getFieldValue("delay_s");return"delay(".concat(t,");\n")},ge.algorithm=function(e){console.log(ge.nameDB_,Te.VARIABLE),ge.definitions_["include#algorithm"]='#include "algorithm.h"';var t=ge.nameDB_.getName(e.getFieldValue("algorithm_name"),Te.VARIABLE);ge.algorithm_=t;var n=ge.nameDB_.getName(e.getFieldValue("robot_state_label"),Te.VARIABLE);console.log(n);var a=e.getFieldValue("robot_state_value"),i=ge.statementToCode(e,"algo_body");return"\n    int ".concat(n," = ").concat(a,";\n\n    void algorithm_loop() {\n      \t").concat(i,"\n    }\n\n  ")},Ae.a.Blocks.variable={init:function(){this.appendDummyInput().appendField(new Ae.a.FieldTextInput("myVariable"),"varName").appendField("variable of type").appendField(new Ae.a.FieldDropdown([["int","int"],["flot","flot"],["double","double"]]),"variableType").appendField("initialized to"),this.appendValueInput("initValue").setCheck("Number"),this.setInputsInline(!0),this.setPreviousStatement(!0,["variable","class-instance-variable","object-pointer"]),this.setNextStatement(!0,["variable","class-instance-variable","object-pointer"]),this.setColour(290),this.setTooltip("tooltip"),this.setHelpUrl("https://github.com/dineshLL/lisa/wiki")}},Ae.a.Blocks.parameter={init:function(){this.appendDummyInput().appendField(new Ae.a.FieldDropdown([["int","int"],["float","float"],["double","double"],["char","char"],["char[]","char[]"],["real","real"]]),"NAME").appendField("parameter as").appendField(new Ae.a.FieldTextInput("parameter-name"),"parameter-name"),this.setPreviousStatement(!0,"parameter"),this.setNextStatement(!0,"parameter"),this.setColour(230),this.setTooltip("Passed param")}},Ae.a.Blocks.boolean_input={init:function(){this.appendDummyInput().appendField(new Ae.a.FieldTextInput("default"),"NAME"),this.setOutput(!0,"Number"),this.setColour(120),this.setTooltip(""),this.setHelpUrl("https://github.com/dineshLL/lisa/wiki")}},Ae.a.Blocks.boolean_input={init:function(){this.appendDummyInput().appendField(new Ae.a.FieldTextInput("default"),"NAME"),this.setOutput(!0,"Number"),this.setColour(120),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},Ae.a.Blocks["class-instance-variable"]={init:function(){this.appendDummyInput().appendField("instance of").appendField(new Ae.a.FieldDropdown([["",""]]),"class_name").appendField("as").appendField(new Ae.a.FieldTextInput("variable"),"variable_name"),this.setPreviousStatement(!0,["class-instance-variable","object-pointer","variable"]),this.setNextStatement(!0,["class-instance-variable","object-pointer","variable"]),this.setColour(260),this.setTooltip("")}},Ae.a.Blocks["object-pointer"]={init:function(){this.appendDummyInput().appendField(new Ae.a.FieldTextInput("myVariable"),"pointer_name").appendField("pointer of object").appendField(new Ae.a.FieldTextInput("className"),"class_name"),this.setPreviousStatement(!0,["object-pointer","class-instance-variable","variable"]),this.setNextStatement(!0,["object-pointer","class-instance-variable","variable"]),this.setColour(20),this.setTooltip("")}},Ae.a.Blocks.variables_init={init:function(){this.appendDummyInput().appendField(new Ae.a.FieldLabelSerializable("Initialize variable"),"dtext1").appendField(new Ae.a.FieldVariable("item"),"var_name").appendField("of type").appendField(new Ae.a.FieldDropdown([["int","int"],["float","float"],["double","double"]]),"var_type"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(330),this.setTooltip(""),this.setHelpUrl("")}},ge.variables_init=function(e){var t,n=ge.nameDB_.getName(e.getFieldValue("var_name"),Te.VARIABLE),a=e.getFieldValue("var_type");switch(a){case"int":case"double":case"float":t=0;break;case"string":t="";break;default:t=null}return"".concat(a," ").concat(n," ").concat(null!==t?" = ".concat(t,";"):";","\n")},Ae.a.Blocks.neo_color_wave={init:function(){this.appendDummyInput().appendField(new Ae.a.FieldLabelSerializable("NeoPixel colorwave"),"dtext1").appendField(new Ae.a.FieldDropdown([["Red","100, 0, 0"],["Green","0, 100, 0"],["White","100, 100, 100"],["Yellow","100, 100, 0"]]),"color_input"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(15),this.setTooltip(""),this.setHelpUrl("")}},ge.neo_color_wave=function(e){ge.definitions_["include#neo_color_wave"]='#include "modules/neopixel/neopixel.h"';var t=e.getFieldValue("color_input");return"\n    ".concat("#ifdef NEOPIXEL_INDICATIONS","\n    \tpixelColorWave(").concat(t,");\n    ").concat("#endif\n","\n  ")},Ae.a.Blocks.algorithm_interrupt={init:function(){this.appendDummyInput().appendField("algorithm_interrupt"),this.appendDummyInput().setAlign(Ae.a.ALIGN_RIGHT).appendField("robot_interrupt_t").appendField(new Ae.a.FieldVariable("robot_interrupt"),"interrupt_variable").appendField(",").appendField("char *").appendField(new Ae.a.FieldVariable("msg"),"msg_variable"),this.appendStatementInput("interrupt_body").setCheck(null),this.setColour(290),this.setTooltip(""),this.setHelpUrl("")}},Ae.a.Blocks.check_mqtt_messages={init:function(){this.appendDummyInput().appendField("Check new mqtt messages in").appendField(new Ae.a.FieldNumber(0,0),"delay_s"),this.setInputsInline(!1),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(65),this.setTooltip("Waits for number of seconds"),this.setHelpUrl("")}},Ae.a.Blocks.publish={init:function(){this.appendDummyInput().appendField("Publish"),this.appendStatementInput("Topic").setCheck(null),this.setColour(65),this.setTooltip(""),this.setHelpUrl("")}},Ae.a.Blocks.subscribe={init:function(){this.appendDummyInput().appendField("Subscribe"),this.appendStatementInput("Topic").setCheck(null),this.setColour(65),this.setTooltip(""),this.setHelpUrl("")}},Ae.a.Blocks.publish_with_content={init:function(){this.appendDummyInput().appendField("Publish To Topic"),this.appendValueInput("Topic").setCheck(null).setAlign(Ae.a.ALIGN_RIGHT),this.appendDummyInput().appendField("With Content"),this.appendValueInput("Message").setCheck(null),this.setInputsInline(!0),this.setColour(65),this.setTooltip(""),this.setHelpUrl("")}},Ae.a.Blocks.chip_id={init:function(){this.appendDummyInput().appendField("Chip ID"),this.setOutput(!0,null),this.setColour(260),this.setTooltip(""),this.setHelpUrl("")}},ge.chip_id=function(){return"(int)(ESP.getEfuseMac() & 0xffffffff)"};var Re=["initialXml","children"];fe.a.setLocale(ve.a);var Se=["children"],ye=["children"],Le=function(e){var t=Object(a.useRef)(),n=Object(a.useRef)(),l=Object(a.useRef)(),c=Object(A.b)(),s=function(){ge.init(l.current);var e=ge.workspaceToCode(l.current),t=ge.algorithm_;c(h(t)),c(x(e)),console.log(e)},o=function(){var e=fe.a.Xml.workspaceToDom(l.current),t=fe.a.Xml.domToPrettyText(e);c(E(t)),console.log(t)};return Object(a.useEffect)((function(){var a=e.initialXml,i=(e.children,Object(xe.a)(e,Re));l.current=fe.a.inject(t.current,Object(Ee.a)({toolbox:n.current},i)),a&&fe.a.Xml.domToWorkspace(fe.a.Xml.textToDom(a),l.current)}),[e.initialXml]),Object(g.jsxs)(i.a.Fragment,{children:[Object(g.jsx)(w.a,{type:"primary",onClick:function(){return s(),o(),void c(W())},children:Object(g.jsxs)("div",{className:"d-flex",children:[Object(g.jsx)("div",{children:"Next"}),Object(g.jsx)("div",{style:{marginTop:"-3px",marginRight:"3px"},children:Object(g.jsx)(ne.a,{})})]})}),Object(g.jsx)("div",{ref:t,id:"blocklyDiv"}),Object(g.jsx)("div",{style:{display:"none"},ref:n,children:e.children})]})},Ce=function(e){var t=e.children,n=Object(xe.a)(e,Se);return n.is="blockly",i.a.createElement("block",n,t)},De=function(e){var t=e.children,n=Object(xe.a)(e,ye);return n.is="blockly",i.a.createElement("category",n,t)};n(202);function Fe(){var e=Object(A.c)((function(e){return e.firmware})).generatedXmlCode;return Object(g.jsx)("div",{className:"mt-5 mb-5",children:Object(g.jsxs)(Le,{readOnly:!1,trashcan:!0,media:"https://blockly-demo.appspot.com/static/media/",move:{scrollbars:!0,drag:!0,wheel:!0},grid:{spacing:20,length:1,colour:"#434343",snap:!1},zoom:{controls:!0,wheel:!0,startScale:1,maxScale:3,minScale:.3,scaleSpeed:1.2},initialXml:e||'<xml xmlns="https://developers.google.com/blockly/xml">\n  <variables>\n    <variable id="s]bRmbZ++`1c?{z!/d_:">ROBOT_STATE</variable>\n    <variable id="x$leYs{fIiSO1QApRb*c">interrupt</variable>\n    <variable id="C}k8;%~r]6mMiJiCA2b%">msg</variable>\n  </variables>\n  <block type="procedures_defnoreturn" id="zfserX5aCGAE:_V]Uq8|" x="316" y="31">\n    <field name="NAME">algorithm_setup</field>\n    <comment pinned="false" h="80" w="160">Describe this function...</comment>\n    <statement name="STACK">\n      <block type="serial_print" id="[VfaL~(d|rSee|Gn]GkT">\n        <field name="msg">algorithm: setup</field>\n      </block>\n    </statement>\n  </block>\n  <block type="procedures_defnoreturn" id="l@{)$#Rw]5D!F@:nM64T" x="584" y="29">\n    <field name="NAME">algorithm_start</field>\n    <comment pinned="false" h="80" w="160">Describe this function...</comment>\n    <statement name="STACK">\n      <block type="serial_print" id="qxwMH}D}#fBe6b.5!0^5">\n        <field name="msg">algorithm: start</field>\n        <next>\n          <block type="variables_set" id="u6E`0xQiSuF[:wi;`F5s">\n            <field name="VAR" id="s]bRmbZ++`1c?{z!/d_:">ROBOT_STATE</field>\n            <value name="VALUE">\n              <block type="math_number" id="aZ`b6~1n,]3)]fxcu5J,">\n                <field name="NUM">0</field>\n              </block>\n            </value>\n          </block>\n        </next>\n      </block>\n    </statement>\n  </block>\n  <block type="procedures_defnoreturn" id="J{]83tn3#1E%7y-2^mW}" x="864" y="23">\n    <field name="NAME">algorithm_stop</field>\n    <comment pinned="false" h="80" w="160">Describe this function...</comment>\n    <statement name="STACK">\n      <block type="serial_print" id="t24Ia}-aa$4Dvi]vPX%_">\n        <field name="msg">algorithm: stop</field>\n        <next>\n          <block type="variables_set" id=",6bJB[!f^qD*._e)z:=k">\n            <field name="VAR" id="s]bRmbZ++`1c?{z!/d_:">ROBOT_STATE</field>\n            <value name="VALUE">\n              <block type="math_number" id="fCq9A;lkam9R)LoeUaTL">\n                <field name="NUM">10</field>\n              </block>\n            </value>\n          </block>\n        </next>\n      </block>\n    </statement>\n  </block>\n  <block type="procedures_defnoreturn" id="zcJoyX5aCGZE:_V]Uq8|" x="588" y="145">\n    <field name="NAME">algorithm_reset</field>\n    <comment pinned="false" h="80" w="160">Describe this function...</comment>\n    <statement name="STACK">\n      <block type="serial_print" id=",%$n;2VU[ule:XXG7)mS">\n        <field name="msg">algorithm: reset</field>\n        <next>\n          <block type="variables_set" id="EUA8MNCiL}n(HqC`.tSr">\n            <field name="VAR" id="s]bRmbZ++`1c?{z!/d_:">ROBOT_STATE</field>\n            <value name="VALUE">\n              <block type="math_number" id="9ro+5R+*Yj|:_zKcr*;-">\n                <field name="NUM">1</field>\n              </block>\n            </value>\n          </block>\n        </next>\n      </block>\n    </statement>\n  </block>\n  <block type="procedures_defnoreturn" id="Qx`{`{8nF9#J$qJ)8)lB" x="873" y="146">\n    <field name="NAME">algorithm_execute</field>\n    <comment pinned="false" h="80" w="160">Describe this function...</comment>\n    <statement name="STACK">\n      <block type="serial_print" id="|;wv;a=c3;h`A.b3-4E/">\n        <field name="msg">algorithm: execute</field>\n        <next>\n          <block type="neo_color_wave" id="RDfH`t18+MlEFez0dulF">\n            <field name="dtext1">NeoPixel colorwave</field>\n            <field name="color_input">100, 0, 0</field>\n            <next>\n              <block type="delay" id="@x#{ZyF|tt$te.tQ`:Sc">\n                <field name="delay_s">1000</field>\n                <next>\n                  <block type="neo_color_wave" id="|EzJ?yXA(fB[7[7hOOnW">\n                    <field name="dtext1">NeoPixel colorwave</field>\n                    <field name="color_input">0, 100, 0</field>\n                    <next>\n                      <block type="delay" id="`LN6VdukES!R{lCPw;jr">\n                        <field name="delay_s">1000</field>\n                        <next>\n                          <block type="neo_color_wave" id="TD/QUmbC5]_](A+90zlv">\n                            <field name="dtext1">NeoPixel colorwave</field>\n                            <field name="color_input">100, 100, 100</field>\n                            <next>\n                              <block type="delay" id="DB*s$Ta56(*goM5,M2ES">\n                                <field name="delay_s">1000</field>\n                              </block>\n                            </next>\n                          </block>\n                        </next>\n                      </block>\n                    </next>\n                  </block>\n                </next>\n              </block>\n            </next>\n          </block>\n        </next>\n      </block>\n    </statement>\n  </block>\n  <block type="algorithm" id="^p}^aaT[%+`,i9VU(A)Y" x="127" y="255">\n    <field name="algorithm_name">color_change</field>\n    <field name="robot_state_label" id="s]bRmbZ++`1c?{z!/d_:">ROBOT_STATE</field>\n    <field name="robot_state_value">1</field>\n    <statement name="algo_body">\n      <block type="controls_if" id="=4kTK+MPC(%=/uZS6_A}">\n        <mutation elseif="1" else="1"></mutation>\n        <value name="IF0">\n          <block type="logic_compare" id="d%{shr+U]1],FQR:j+2P">\n            <field name="OP">EQ</field>\n            <value name="A">\n              <block type="variables_get" id="=4~h]lG^?vDJm?fk=hOe">\n                <field name="VAR" id="s]bRmbZ++`1c?{z!/d_:">ROBOT_STATE</field>\n              </block>\n            </value>\n            <value name="B">\n              <block type="math_number" id="_^Mp:]tiu+o6ktoK52;u">\n                <field name="NUM">0</field>\n              </block>\n            </value>\n          </block>\n        </value>\n        <statement name="DO0">\n          <block type="procedures_callnoreturn" id="MyZNMgTN:b?ci|vV1DNj">\n            <mutation name="algorithm_execute"></mutation>\n            <next>\n              <block type="delay" id="j*xQRW5EQMB8QM:WnR}^">\n                <field name="delay_s">50</field>\n              </block>\n            </next>\n          </block>\n        </statement>\n        <value name="IF1">\n          <block type="logic_compare" id="d1sw^kc7g~76A(q+JVc|">\n            <field name="OP">EQ</field>\n            <value name="A">\n              <block type="variables_get" id="^A;L^1Uex#~(2GsxW2(e">\n                <field name="VAR" id="s]bRmbZ++`1c?{z!/d_:">ROBOT_STATE</field>\n              </block>\n            </value>\n            <value name="B">\n              <block type="math_number" id="eDuJ1n)YV_40B|DQS,8j">\n                <field name="NUM">1</field>\n              </block>\n            </value>\n          </block>\n        </value>\n        <statement name="DO1">\n          <block type="procedures_callnoreturn" id="3*$GKuhiib(7iZ,?W|[P">\n            <mutation name="algorithm_setup"></mutation>\n            <next>\n              <block type="variables_set" id="`8:h:pYq0F2Dihiq`pHa">\n                <field name="VAR" id="s]bRmbZ++`1c?{z!/d_:">ROBOT_STATE</field>\n                <value name="VALUE">\n                  <block type="math_number" id="!TxGb=Gt6=`dLJFg|`NX">\n                    <field name="NUM">10</field>\n                  </block>\n                </value>\n              </block>\n            </next>\n          </block>\n        </statement>\n        <statement name="ELSE">\n          <block type="delay" id="f=Y{`}AL%qW,OkncggP%">\n            <field name="delay_s">100</field>\n          </block>\n        </statement>\n      </block>\n    </statement>\n  </block>\n  <block type="algorithm_interrupt" id=":Ri6n|XI#ytiol.L|cNq" x="788" y="407">\n    <field name="interrupt_variable" id="x$leYs{fIiSO1QApRb*c">interrupt</field>\n    <field name="msg_variable" id="C}k8;%~r]6mMiJiCA2b%">msg</field>\n  </block>\n</xml>',children:[Object(g.jsxs)(De,{name:"Logic",children:[Object(g.jsx)(Ce,{type:"logic_compare"}),Object(g.jsx)(Ce,{type:"logic_operation"}),Object(g.jsx)(Ce,{type:"logic_negate"}),Object(g.jsx)(Ce,{type:"logic_boolean"}),Object(g.jsx)(Ce,{type:"logic_null"}),Object(g.jsx)(Ce,{type:"logic_ternary"})]}),Object(g.jsxs)(De,{name:"Algorithm",children:[Object(g.jsx)(Ce,{type:"algorithm"}),Object(g.jsx)(Ce,{type:"algorithm_interrupt"})]}),Object(g.jsxs)(De,{name:"Control Flow",children:[Object(g.jsx)(Ce,{type:"controls_if"}),Object(g.jsx)(Ce,{type:"delay"})]}),Object(g.jsx)(De,{name:"Inputs"}),Object(g.jsxs)(De,{name:"MQTT",children:[Object(g.jsx)(Ce,{type:"check_mqtt_messages"}),Object(g.jsx)(Ce,{type:"publish"}),Object(g.jsx)(Ce,{type:"publish_with_content"}),Object(g.jsx)(Ce,{type:"subscribe"})]}),Object(g.jsx)(De,{name:"Motors",children:Object(g.jsx)(Ce,{type:"drive_motors"})}),Object(g.jsxs)(De,{name:"Outputs",children:[Object(g.jsx)(Ce,{type:"serial_print"}),Object(g.jsx)(Ce,{type:"neo_color_wave"})]}),Object(g.jsxs)(De,{name:"Variables",children:[Object(g.jsx)(Ce,{type:"variables_init"}),Object(g.jsx)(Ce,{type:"variables_get"}),Object(g.jsx)(Ce,{type:"variables_set"})]}),Object(g.jsxs)(De,{name:"String",children:[Object(g.jsx)(Ce,{type:"text"}),Object(g.jsx)(Ce,{type:"text_multiline"}),Object(g.jsx)(Ce,{type:"text_join"}),Object(g.jsx)(Ce,{type:"text_create_join_container"}),Object(g.jsx)(Ce,{type:"text_create_join_item"}),Object(g.jsx)(Ce,{type:"text_append"}),Object(g.jsx)(Ce,{type:"text_length"}),Object(g.jsx)(Ce,{type:"text_isEmpty"}),Object(g.jsx)(Ce,{type:"text_indexOf"}),Object(g.jsx)(Ce,{type:"text_charAt"}),Object(g.jsx)(Ce,{type:"text_getSubstring"}),Object(g.jsx)(Ce,{type:"text_changeCase"}),Object(g.jsx)(Ce,{type:"text_replace"}),Object(g.jsx)(Ce,{type:"text_reverse"})]}),Object(g.jsxs)(De,{name:"Math",children:[Object(g.jsx)(Ce,{type:"math_number"}),Object(g.jsx)(Ce,{type:"math_arithmetic"}),Object(g.jsx)(Ce,{type:"math_trig"}),Object(g.jsx)(Ce,{type:"math_number_property"}),Object(g.jsx)(Ce,{type:"math_change"}),Object(g.jsx)(Ce,{type:"math_constant"}),Object(g.jsx)(Ce,{type:"math_round"}),Object(g.jsx)(Ce,{type:"math_modulo"}),Object(g.jsx)(Ce,{type:"math_constrain"}),Object(g.jsx)(Ce,{type:"math_random_float"})]}),Object(g.jsx)(De,{name:"Functions",custom:"PROCEDURE"}),Object(g.jsx)(De,{name:"ESP",children:Object(g.jsx)(Ce,{type:"chip_id"})})]})})}var ke=n(349),Be=n(350),Me=n(351),Pe=Object(U.a)("http://localhost:5001");var Ve=function(){var e=M.a.Step,t=Object(a.useState)(Pe.connected),n=Object(s.a)(t,2),i=n[0],l=n[1],c=Object(a.useState)([]),o=Object(s.a)(c,2),r=o[0],d=o[1],p=Object(A.b)(),m=Object(A.c)((function(e){return e.firmware})),u=m.firmwareFile,b=m.dynamicCodeObject,j=m.algorithmName,O=m.generatedCppCode,h=(m.generatedXmlCode,Object(A.c)((function(e){return e.step})).step),x=Object(a.useState)(null),E=Object(s.a)(x,2),_=E[0],f=E[1];Object(a.useEffect)((function(){return Pe.on("connect",(function(){l(!0)})),Pe.on("disconnect",(function(){l(!1)})),Pe.on("build",(function(e){d((function(t){return[].concat(Object(k.a)(t),[e])}));var t=document.getElementById("terminalDiv");t.scrollTop=t.scrollHeight})),function(){Pe.off("connect"),Pe.off("disconnect"),Pe.off("build")}}),[]),Object(a.useEffect)((function(){console.log("Socket connection established: ".concat(i))}),[i]);var v=function(){var e=Object(F.a)(Object(D.a)().mark((function e(){var t,n;return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d([]),e.prev=1,e.next=4,B.a.post("http://localhost:5001/build?dir=".concat(u),{features:b,algorithm_name:j,algorithm_body:O,robot_id:_});case 4:null!==(n=e.sent)&&void 0!==n&&null!==(t=n.data)&&void 0!==t&&t.msg&&P.b.loading(n.data.msg),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),P.b.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"mt-5 mb-5",children:[Object(g.jsx)("div",{className:"col-lg-10 mt-3 mb-5 mx-auto step-area",children:Object(g.jsxs)(M.a,{current:h,children:[Object(g.jsx)(e,{title:"Algorithm Generation",icon:Object(g.jsx)("div",{style:{marginTop:"-5px"},children:Object(g.jsx)(ke.a,{})})}),Object(g.jsx)(e,{title:"Dynamic Code Generation",icon:Object(g.jsx)("div",{style:{marginTop:"-5px"},children:Object(g.jsx)(Be.a,{})})}),Object(g.jsx)(e,{title:"Build",icon:Object(g.jsx)("div",{style:{marginTop:"-5px"},children:Object(g.jsx)(Me.a,{})})}),Object(g.jsx)(e,{title:"OTA Upload",icon:Object(g.jsx)("div",{style:{marginTop:"-5px"},children:Object(g.jsx)(N.a,{})})})]})}),0===h&&Object(g.jsx)(Fe,{}),1===h&&Object(g.jsx)(ie,{}),2===h&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"mt-4",children:Object(g.jsx)("div",{className:"terminal p-4",id:"terminalDiv",children:Object(g.jsx)("span",{className:"response-msg text-light",children:r})})}),Object(g.jsxs)("div",{className:"mt-4 d-flex",children:[Object(g.jsx)(V.a,{onChange:function(e){var t;(t=e.target.value)<0||t>15?(P.b.error("Robot id should be between 1-15"),f(null)):f(t)},value:_,type:"number",placeholder:"Specify the robot ID"}),Object(g.jsx)(w.a,{type:"primary",onClick:function(){return v()},style:{marginLeft:"5px"},children:Object(g.jsxs)("div",{className:"d-flex",children:[Object(g.jsx)("div",{style:{marginTop:"-3px",marginRight:"3px"},children:Object(g.jsx)(q.a,{})}),Object(g.jsx)("div",{children:"Build"})]})})]}),Object(g.jsxs)("div",{className:"mt-4 d-flex justify-content-center",children:[Object(g.jsx)(w.a,{style:{marginRight:"5px"},onClick:function(){return p(Y())},children:Object(g.jsxs)("div",{className:"d-flex",children:[Object(g.jsx)("div",{style:{marginTop:"-3px",marginRight:"3px"},children:Object(g.jsx)(te.a,{})}),Object(g.jsx)("div",{children:"Back"})]})}),Object(g.jsx)(w.a,{onClick:function(){return p(W())},style:{marginLeft:"5px"},children:Object(g.jsxs)("div",{className:"d-flex",children:[Object(g.jsx)("div",{style:{marginTop:"-3px",marginRight:"3px"},children:Object(g.jsx)(ne.a,{})}),Object(g.jsx)("div",{children:"Next"})]})})]})]}),3===h&&Object(g.jsx)(he,{})]})};var we=function(){return Object(g.jsxs)(r.c,{children:[Object(g.jsx)(r.a,{path:"/",exact:!0,element:Object(g.jsx)(Ve,{})}),Object(g.jsx)(r.a,{path:"/mqtt",exact:!0,element:Object(g.jsx)(he,{})}),Object(g.jsx)(r.a,{path:"/playground",exact:!0,element:Object(g.jsx)(Fe,{})})]})};var Ue=function(){var e=o.a.Content,t=Object(A.c)((function(e){return e.margin})).margin,n=Object(a.useState)("side-menu-margin-extended"),i=Object(s.a)(n,2),l=i[0],c=i[1];return Object(a.useEffect)((function(){c(t?"side-menu-margin":"side-menu-margin-extended")}),[t]),Object(g.jsxs)(o.a,{className:l,children:[Object(g.jsx)("div",{className:"side-menu",children:Object(g.jsx)(y,{})}),Object(g.jsxs)(o.a,{style:{minHeight:"100vh"},children:[Object(g.jsx)(e,{children:Object(g.jsx)("div",{className:"container-fluid mt-4",children:Object(g.jsx)(we,{})})}),Object(g.jsx)(C,{})]})]})},Ge=n(117);var Xe=function(){return Object(g.jsx)(Ge.a,{children:Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(Ue,{})})})},We=function(e){e&&e instanceof Function&&n.e(155).then(n.bind(null,536)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,l=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),l(e),c(e)}))},Ye=Object(p.a)({reducer:{margin:S,firmware:_,step:H}});c.a.createRoot(document.getElementById("root")).render(Object(g.jsx)(A.a,{store:Ye,children:Object(g.jsx)(Xe,{})})),We()}},[[325,152,153]]]);
//# sourceMappingURL=main.38afa424.chunk.js.map